<template>
  <div class="match-result">
    <div class="result-card">
      <h3 class="subtitle">ğŸŒŸ æ˜Ÿåº§é…å¯¹åˆ†æ</h3>
      
      <div class="index-display">
        <span>çˆ±æƒ…æŒ‡æ•°</span>
        <div class="index-bar">
          <div class="index-fill" :style="{ width: `${result.zodiac.loveIndex}%` }"></div>
        </div>
        <span>{{ result.zodiac.loveIndex }}%</span>
      </div>
      
      <div class="index-display">
        <span>å·¥ä½œæŒ‡æ•°</span>
        <div class="index-bar">
          <div class="index-fill" :style="{ width: `${result.zodiac.workIndex}%` }"></div>
        </div>
        <span>{{ result.zodiac.workIndex }}%</span>
      </div>
      
      <p class="description">{{ result.zodiac.description }}</p>
    </div>

    <div class="result-card">
      <h3 class="subtitle">ğŸ“Š å…«å­—äº”è¡Œåˆ†æ</h3>
      
      <div class="index-display">
        <span>äº”è¡Œé…å¯¹æŒ‡æ•°</span>
        <div class="index-bar">
          <div class="index-fill" :style="{ width: `${result.bazi.compatibility}%` }"></div>
        </div>
        <span>{{ result.bazi.compatibility }}%</span>
      </div>
      
      <p class="description">{{ result.bazi.analysis }}</p>
    </div>

    <div class="result-card">
      <h3 class="subtitle">ğŸ¯ å¦è±¡è§£æ</h3>
      
      <div class="gua-symbol">{{ result.gua.symbol }}</div>
      <h4 style="text-align: center; margin-bottom: 16px;">{{ result.gua.name }}</h4>
      
      <div class="gua-section">
        <h5>ğŸ’• æ„Ÿæƒ…è¿åŠ¿</h5>
        <p>{{ result.gua.loveAnalysis }}</p>
      </div>
      
      <div class="gua-section">
        <h5>ğŸ’¼ äº‹ä¸šåˆä½œ</h5>
        <p>{{ result.gua.workAnalysis }}</p>
      </div>
    </div>

    <div class="disclaimer">
      <p>* ä»¥ä¸Šåˆ†æä»…ä¾›å¨±ä¹å‚è€ƒï¼Œä¼ ç»Ÿæ–‡åŒ–ä½“éªŒï¼Œä¸æ„æˆä»»ä½•å»ºè®®ã€‚çœŸæ­£çš„ç¼˜åˆ†éœ€è¦åŒæ–¹å…±åŒåŠªåŠ›ç»è¥ã€‚</p>
    </div>
  </div>
</template>

<script setup lang="ts">
import type { MatchResult } from '@/types'

interface Props {
  result: MatchResult
}

defineProps<Props>()
</script>

<style scoped>
.description {
  line-height: 1.6;
  color: #4a5568;
  white-space: pre-line;
}

.gua-section {
  margin-bottom: 16px;
}

.gua-section h5 {
  margin-bottom: 8px;
  color: #2d3748;
}

.disclaimer {
  margin-top: 24px;
  padding: 16px;
  background-color: #f7fafc;
  border-radius: 8px;
  border-left: 4px solid #667eea;
}

.disclaimer p {
  font-size: 14px;
  color: #718096;
  line-height: 1.4;
}
</style>